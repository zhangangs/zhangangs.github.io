---
title: js冷知识锦集
tags: javascript
author: zhangangs
date: 2017-8-7
---

整理一下工作中遇到的javascript中非常奇怪的问题。

本文将持续更新。

##### 1、小数点减法问题

代码如下：
```
var a = 0.3 - 0.2; //结果是多少？
```

这里的结果是：0.09999999999999998， 不是0.1，是不是很惊讶！

** 更神奇的还在后面！ **
```
//循环显示10条相减的信息
for(let i = 1; i < 11; i++){
  var j = i + 1;
  console.log((j / 10) + "-" + (i / 10) + "=" + (( j / 10) - (i / 10)), i);
}
```
结果如下：
![](/images/8-7/1.jpg)

除了` 0.2-0.1 `算对了，其他的都不对，不是大点就是小点。

这是由于二进制浮点数不能精确的表示简单的浮点数， 例如：0.1，只能表示一个及其近似的值。

** 决解方法也很简单,转换成整数计算即可。 **
```
for(let i = 1; i < 11; i++){
  var j = i + 1;
  console.log(j + "-" + i + "=" + ((j  - i ) / 10), i);
}
```

##### 2、关于“任何数字除以0会返回NaN”

这句话似乎有点错误。这可能跟ECMAScript解释器有关。

只有0除以0才会返回NaN。其他数字除以0会返回Infinity（无穷大），测试代码如下：
```
console.log(0/0)  //NaN
console.log(1/0)  //Infinity
console.log(-2/0) //-Infinity
```

##### 3、数组最大能有多少个值？

** 数组最多可以包含`4294 967 295` 个项。 ** 


文章中有考虑不全的地方，欢迎各位指正。


